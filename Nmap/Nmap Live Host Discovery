Nmap: Live Host Discovery
Activity description: This laboratory focuses on network exploration and security auditing using Nmap. The goal was to master host discovery, port scanning, and service identification to map a network's attack surface effectively.
Tools used: Nmap (Network Mapper); Linux Terminal (Attack box), Target VM (TryHackMe Lab Environment)
Methodology:
1.	Enumerating targets – To be able to find the first IP address Nmap would scan if I provided a certain IP address, I ran the command “nmap -sL -n IP address”. Using -sL, I obtained a list of hosts. In addition to that, -n allowed me to avoid doing reverse-DNS resolution on all targets and obtain their names. Moreover, I learned how to query Nmap to scan a range of IP addresses.
2.	Nmap Host Discovery Using ARP – I learned how to use Arp command to scan all active devices on my subnet. In order to perform a scan without port-scanning, I can use the command “nmap -PR -sn targets”, where -PR indicates that I only want an ARP scan. Also, I learned about “arp-scan”, which is a scanner built around ARP queries. By adding the “-l” flag, I would be able to send ARP queries to all valid IP addresses on my local networks. 
3.	Nmap Host Discovery Using ICMP – Learned about ICMP messages and how they can be used to discover every active host on a subnet. Although it might not be always reliable due to firewalls ICMP echo-request blocking functionality, there are different ways to get the result desired. By adding flags like “-PP” or “-PM”, we can send different ICMP requests, respectively timestamp and address mask queries, to tell if a system is online. 
4.	Nmap Host Discovery Using TCP and UDP – To check whether a host is online, we can send a packet with the SYN flag set to a TCP port (80 by default) and wait for a response. If you want Nmap to use TCP SYN ping, you can do so via the option “-PS” followed by the port number, range, list, or a combination of them. If the user is a privileged user, they can use the TCP ACK ping, which sends a packet with an ACK flag set. In this case, the option used should be “-PA”, followed by a port number, a port number range, a list, or a combination of them and, if not specified, port 80 will be used. Online hosts will respond with a TCP packet with the RST flag.
If we send a UDP packet (option “-PU”), the only response we would get is an ICMP message if the UDP receiving port is closed, otherwise it is open.
5.	Using Reverse-DNS Lookup – Nmap’s default behaviour is to use reverse-DNS online hosts. Because the hostnames can reveal a lot, this can be a helpful step. However, if you don’t want to send such DNS queries, you use -n to skip this step. By default, Nmap will look up online hosts; however, you can use the option -R to query the DNS server even for offline hosts.

Lessons Learned: Understood the difference between various scan types (SYN, Connect, UDP) and when to apply them based on the network environment.
Improved the ability to interpret service banners and OS fingerprints to build an accurate target profile.
Learned to balance scan speed and stealth to avoid detection by Intrusion Detection Systems (IDS).
